{
  "api_version": 1,
  "commands": [
    {
      "arguments": [
        {
          "arg_type": "flag",
          "default": "false",
          "description": "Render once and exit (headless-friendly)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "once",
          "required": false
        },
        {
          "arg_type": "flag",
          "default": "false",
          "description": "Delete persisted UI state (tui_state.json) before launch",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "reset-state",
          "required": false
        },
        {
          "arg_type": "option",
          "description": "Override data dir (matches index --data-dir)",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        }
      ],
      "description": "Launch interactive TUI",
      "has_json_output": false,
      "name": "tui"
    },
    {
      "arguments": [
        {
          "arg_type": "flag",
          "description": "Perform full rebuild",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "full",
          "required": false
        },
        {
          "arg_type": "flag",
          "default": "false",
          "description": "Force Tantivy index rebuild even if schema matches",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "force-rebuild",
          "required": false
        },
        {
          "arg_type": "flag",
          "description": "Watch for changes and reindex automatically",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "watch",
          "required": false
        },
        {
          "arg_type": "option",
          "description": "Trigger a single watch cycle for specific paths (comma-separated or repeated)",
          "name": "watch-once",
          "repeatable": true,
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "option",
          "description": "Override data dir (index + db). Defaults to platform data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON (for automation)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "Run indexer",
      "has_json_output": true,
      "name": "index"
    },
    {
      "arguments": [
        {
          "arg_type": "positional",
          "description": "",
          "enum_values": [
            "bash",
            "elvish",
            "fish",
            "powershell",
            "zsh"
          ],
          "name": "shell",
          "required": true,
          "value_type": "enum"
        }
      ],
      "description": "Generate shell completions to stdout",
      "has_json_output": false,
      "name": "completions"
    },
    {
      "arguments": [],
      "description": "Generate man page to stdout",
      "has_json_output": false,
      "name": "man"
    },
    {
      "arguments": [
        {
          "arg_type": "positional",
          "description": "Topic to print",
          "enum_values": [
            "commands",
            "env",
            "paths",
            "schemas",
            "exit-codes",
            "examples",
            "contracts",
            "wrap"
          ],
          "name": "topic",
          "required": true,
          "value_type": "enum"
        }
      ],
      "description": "Machine-focused docs for automation agents",
      "has_json_output": false,
      "name": "robot-docs"
    },
    {
      "arguments": [
        {
          "arg_type": "positional",
          "description": "The query string",
          "name": "query",
          "required": true,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Filter by agent slug (can be specified multiple times)",
          "name": "agent",
          "repeatable": true,
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Filter by workspace path (can be specified multiple times)",
          "name": "workspace",
          "repeatable": true,
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "default": "10",
          "description": "Max results",
          "name": "limit",
          "required": false,
          "value_type": "integer"
        },
        {
          "arg_type": "option",
          "default": "0",
          "description": "Offset for pagination (start at Nth result)",
          "name": "offset",
          "required": false,
          "value_type": "integer"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON (--robot also works). Equivalent to --robot-format json",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        },
        {
          "arg_type": "option",
          "description": "Robot output format: json (pretty), jsonl (streaming), compact (single-line)",
          "enum_values": [
            "json",
            "jsonl",
            "compact"
          ],
          "name": "robot-format",
          "required": false,
          "value_type": "enum"
        },
        {
          "arg_type": "flag",
          "description": "Include extended metadata in robot output (elapsed_ms, wildcard_fallback, cache_stats)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "robot-meta",
          "required": false
        },
        {
          "arg_type": "option",
          "description": "Select specific fields in JSON output (comma-separated). Use 'minimal' for source_path,line_number,agent or 'summary' for source_path,line_number,agent,title,score. Example: --fields source_path,line_number",
          "name": "fields",
          "repeatable": true,
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Truncate content/snippet fields to max N characters (UTF-8 safe, adds '...' and _truncated indicator)",
          "name": "max-content-length",
          "required": false,
          "value_type": "integer"
        },
        {
          "arg_type": "option",
          "description": "Soft token budget for robot output (approx; 4 chars \u2248 1 token). Adjusts truncation",
          "name": "max-tokens",
          "required": false,
          "value_type": "integer"
        },
        {
          "arg_type": "option",
          "description": "Request ID to echo in robot _meta for correlation",
          "name": "request-id",
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Cursor for pagination (base64-encoded offset/limit payload from previous result)",
          "name": "cursor",
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Human-readable display format: table (aligned columns), lines (one-liner), markdown",
          "enum_values": [
            "table",
            "lines",
            "markdown"
          ],
          "name": "display",
          "required": false,
          "value_type": "enum"
        },
        {
          "arg_type": "option",
          "description": "Override data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "option",
          "description": "Filter to last N days",
          "name": "days",
          "required": false,
          "value_type": "integer"
        },
        {
          "arg_type": "flag",
          "description": "Filter to today only",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "today",
          "required": false
        },
        {
          "arg_type": "flag",
          "description": "Filter to yesterday only",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "yesterday",
          "required": false
        },
        {
          "arg_type": "flag",
          "description": "Filter to last 7 days",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "week",
          "required": false
        },
        {
          "arg_type": "option",
          "description": "Filter to entries since ISO date (YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS)",
          "name": "since",
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Filter to entries until ISO date",
          "name": "until",
          "required": false,
          "value_type": "string"
        },
        {
          "arg_type": "option",
          "description": "Server-side aggregation by field(s). Comma-separated: agent,workspace,date,match_type Returns buckets with counts instead of full results. Use with --limit to get both",
          "name": "aggregate",
          "repeatable": true,
          "required": false,
          "value_type": "string"
        }
      ],
      "description": "Run a one-off search and print results to stdout",
      "has_json_output": true,
      "name": "search"
    },
    {
      "arguments": [
        {
          "arg_type": "option",
          "description": "Override data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "Show statistics about indexed data",
      "has_json_output": true,
      "name": "stats"
    },
    {
      "arguments": [
        {
          "arg_type": "option",
          "description": "Override data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        },
        {
          "arg_type": "flag",
          "description": "Include verbose information (file sizes, timestamps)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "verbose",
          "required": false,
          "short": "v"
        }
      ],
      "description": "Output diagnostic information for troubleshooting",
      "has_json_output": true,
      "name": "diag"
    },
    {
      "arguments": [
        {
          "arg_type": "option",
          "description": "Override data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON (default for robot consumption)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        },
        {
          "arg_type": "option",
          "default": "1800",
          "description": "Staleness threshold in seconds (default: 1800 = 30 minutes)",
          "name": "stale-threshold",
          "required": false,
          "value_type": "integer"
        }
      ],
      "description": "Quick health check for agents: index freshness, db stats, recommended action",
      "has_json_output": true,
      "name": "status"
    },
    {
      "arguments": [
        {
          "arg_type": "flag",
          "description": "Output as JSON (default for robot consumption)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "Discover available features, versions, and limits for agent introspection",
      "has_json_output": true,
      "name": "capabilities"
    },
    {
      "arguments": [
        {
          "arg_type": "option",
          "description": "Override data dir",
          "name": "data-dir",
          "required": false,
          "value_type": "path"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON (default for robot consumption)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        },
        {
          "arg_type": "option",
          "default": "1800",
          "description": "Staleness threshold in seconds (default: 1800 = 30 minutes)",
          "name": "stale-threshold",
          "required": false,
          "value_type": "integer"
        }
      ],
      "description": "Quick state/health check (alias of status)",
      "has_json_output": true,
      "name": "state"
    },
    {
      "arguments": [
        {
          "arg_type": "flag",
          "description": "Output as JSON (default for robot consumption)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "Show API + contract version info",
      "has_json_output": true,
      "name": "api-version"
    },
    {
      "arguments": [
        {
          "arg_type": "flag",
          "description": "Output as JSON (default for robot consumption)",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "Full API schema introspection - commands, arguments, and response schemas",
      "has_json_output": true,
      "name": "introspect"
    },
    {
      "arguments": [
        {
          "arg_type": "positional",
          "description": "Path to the source file",
          "name": "path",
          "required": true,
          "value_type": "path"
        },
        {
          "arg_type": "option",
          "description": "Line number to show (1-indexed)",
          "name": "line",
          "required": false,
          "short": "n",
          "value_type": "integer"
        },
        {
          "arg_type": "option",
          "default": "5",
          "description": "Number of context lines before/after",
          "name": "context",
          "required": false,
          "short": "C",
          "value_type": "integer"
        },
        {
          "arg_type": "flag",
          "description": "Output as JSON",
          "enum_values": [
            "true",
            "false"
          ],
          "name": "json",
          "required": false
        }
      ],
      "description": "View a source file at a specific line (follow up on search results)",
      "has_json_output": true,
      "name": "view"
    }
  ],
  "contract_version": "1",
  "global_flags": [
    {
      "arg_type": "option",
      "description": "Path to the SQLite database (defaults to platform data dir)",
      "name": "db",
      "required": false,
      "value_type": "path"
    },
    {
      "arg_type": "flag",
      "description": "Deterministic machine-first help (no TUI)",
      "name": "robot-help",
      "required": false
    },
    {
      "arg_type": "option",
      "description": "Trace command execution spans to JSONL file",
      "name": "trace-file",
      "required": false,
      "value_type": "path"
    },
    {
      "arg_type": "flag",
      "description": "Reduce log noise (warnings and errors only)",
      "name": "quiet",
      "required": false,
      "short": "q"
    },
    {
      "arg_type": "flag",
      "description": "Increase verbosity (debug information)",
      "name": "verbose",
      "required": false,
      "short": "v"
    },
    {
      "arg_type": "option",
      "default": "auto",
      "description": "Color behavior for CLI output",
      "enum_values": [
        "auto",
        "never",
        "always"
      ],
      "name": "color",
      "required": false,
      "value_type": "enum"
    },
    {
      "arg_type": "option",
      "default": "auto",
      "description": "Progress output style",
      "enum_values": [
        "auto",
        "bars",
        "plain",
        "none"
      ],
      "name": "progress",
      "required": false,
      "value_type": "enum"
    },
    {
      "arg_type": "option",
      "description": "Wrap informational output to N columns",
      "name": "wrap",
      "required": false,
      "value_type": "integer"
    },
    {
      "arg_type": "flag",
      "description": "Disable wrapping entirely",
      "name": "nowrap",
      "required": false
    }
  ],
  "response_schemas": {
    "api-version": {
      "properties": {
        "api_version": {
          "type": "integer"
        },
        "contract_version": {
          "type": "string"
        },
        "crate_version": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "capabilities": {
      "properties": {
        "api_version": {
          "type": "integer"
        },
        "connectors": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "contract_version": {
          "type": "string"
        },
        "crate_version": {
          "type": "string"
        },
        "features": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "limits": {
          "properties": {
            "max_agg_buckets": {
              "type": "integer"
            },
            "max_content_length": {
              "type": "integer"
            },
            "max_fields": {
              "type": "integer"
            },
            "max_limit": {
              "type": "integer"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "diag": {
      "properties": {
        "connectors": {
          "items": {
            "properties": {
              "found": {
                "type": "boolean"
              },
              "name": {
                "type": "string"
              },
              "path": {
                "type": "string"
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "database": {
          "properties": {
            "conversations": {
              "type": "integer"
            },
            "exists": {
              "type": "boolean"
            },
            "messages": {
              "type": "integer"
            },
            "size_bytes": {
              "type": "integer"
            }
          },
          "type": "object"
        },
        "index": {
          "properties": {
            "exists": {
              "type": "boolean"
            },
            "size_bytes": {
              "type": "integer"
            }
          },
          "type": "object"
        },
        "paths": {
          "properties": {
            "data_dir": {
              "type": "string"
            },
            "db_path": {
              "type": "string"
            },
            "index_path": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "platform": {
          "properties": {
            "arch": {
              "type": "string"
            },
            "os": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "version": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "index": {
      "properties": {
        "conversations": {
          "type": [
            "integer",
            "null"
          ]
        },
        "data_dir": {
          "type": [
            "string",
            "null"
          ]
        },
        "db_path": {
          "type": [
            "string",
            "null"
          ]
        },
        "elapsed_ms": {
          "type": "integer"
        },
        "error": {
          "type": [
            "string",
            "null"
          ]
        },
        "force_rebuild": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "full": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "messages": {
          "type": [
            "integer",
            "null"
          ]
        },
        "success": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "introspect": {
      "properties": {
        "api_version": {
          "type": "integer"
        },
        "commands": {
          "items": {
            "properties": {
              "arguments": {
                "items": {
                  "properties": {
                    "arg_type": {
                      "type": "string"
                    },
                    "default": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "description": {
                      "type": "string"
                    },
                    "enum_values": {
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "name": {
                      "type": "string"
                    },
                    "repeatable": {
                      "type": [
                        "boolean",
                        "null"
                      ]
                    },
                    "required": {
                      "type": "boolean"
                    },
                    "short": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value_type": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "type": "object"
                },
                "type": "array"
              },
              "description": {
                "type": "string"
              },
              "has_json_output": {
                "type": "boolean"
              },
              "name": {
                "type": "string"
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "contract_version": {
          "type": "string"
        },
        "global_flags": {
          "items": {
            "properties": {
              "arg_type": {
                "type": "string"
              },
              "default": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "description": {
                "type": "string"
              },
              "enum_values": {
                "type": [
                  "array",
                  "null"
                ]
              },
              "name": {
                "type": "string"
              },
              "repeatable": {
                "type": [
                  "boolean",
                  "null"
                ]
              },
              "required": {
                "type": "boolean"
              },
              "short": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "value_type": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "response_schemas": {
          "additionalProperties": {
            "type": "object"
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "search": {
      "properties": {
        "_meta": {
          "properties": {
            "cache_stats": {
              "properties": {
                "hits": {
                  "type": "integer"
                },
                "misses": {
                  "type": "integer"
                },
                "shortfall": {
                  "type": "integer"
                }
              },
              "type": "object"
            },
            "elapsed_ms": {
              "type": "integer"
            },
            "hits_clamped": {
              "type": "boolean"
            },
            "index_freshness": {
              "properties": {
                "age_seconds": {
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "fresh": {
                  "type": "boolean"
                },
                "last_indexed_at": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "pending_sessions": {
                  "type": "integer"
                },
                "stale": {
                  "type": "boolean"
                }
              },
              "type": "object"
            },
            "max_tokens": {
              "type": [
                "integer",
                "null"
              ]
            },
            "next_cursor": {
              "type": [
                "string",
                "null"
              ]
            },
            "request_id": {
              "type": [
                "string",
                "null"
              ]
            },
            "state": {
              "properties": {
                "database": {
                  "properties": {
                    "conversations": {
                      "type": "integer"
                    },
                    "exists": {
                      "type": "boolean"
                    },
                    "messages": {
                      "type": "integer"
                    }
                  },
                  "type": "object"
                },
                "index": {
                  "properties": {
                    "age_seconds": {
                      "type": [
                        "integer",
                        "null"
                      ]
                    },
                    "exists": {
                      "type": "boolean"
                    },
                    "fresh": {
                      "type": "boolean"
                    },
                    "last_indexed_at": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "stale": {
                      "type": "boolean"
                    },
                    "stale_threshold_seconds": {
                      "type": "integer"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            },
            "tokens_estimated": {
              "type": [
                "integer",
                "null"
              ]
            },
            "wildcard_fallback": {
              "type": "boolean"
            }
          },
          "type": "object"
        },
        "_warning": {
          "type": [
            "string",
            "null"
          ]
        },
        "aggregations": {
          "additionalProperties": {
            "items": {
              "properties": {
                "count": {
                  "type": "integer"
                },
                "key": {
                  "type": "string"
                }
              },
              "type": "object"
            },
            "type": "array"
          },
          "type": [
            "object",
            "null"
          ]
        },
        "count": {
          "type": "integer"
        },
        "cursor": {
          "type": [
            "string",
            "null"
          ]
        },
        "hits": {
          "items": {
            "properties": {
              "agent": {
                "type": "string"
              },
              "content": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "created_at": {
                "type": [
                  "integer",
                  "string",
                  "null"
                ]
              },
              "line_number": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "match_type": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "score": {
                "type": [
                  "number",
                  "null"
                ]
              },
              "snippet": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "source_path": {
                "type": "string"
              },
              "title": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "workspace": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "hits_clamped": {
          "type": "boolean"
        },
        "limit": {
          "type": "integer"
        },
        "max_tokens": {
          "type": [
            "integer",
            "null"
          ]
        },
        "offset": {
          "type": "integer"
        },
        "query": {
          "type": "string"
        },
        "request_id": {
          "type": [
            "string",
            "null"
          ]
        },
        "total_matches": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "state": {
      "properties": {
        "_meta": {
          "properties": {
            "data_dir": {
              "type": "string"
            },
            "db_path": {
              "type": "string"
            },
            "timestamp": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "database": {
          "properties": {
            "conversations": {
              "type": "integer"
            },
            "exists": {
              "type": "boolean"
            },
            "messages": {
              "type": "integer"
            },
            "path": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "healthy": {
          "type": "boolean"
        },
        "index": {
          "properties": {
            "age_seconds": {
              "type": [
                "integer",
                "null"
              ]
            },
            "exists": {
              "type": "boolean"
            },
            "fresh": {
              "type": "boolean"
            },
            "last_indexed_at": {
              "type": [
                "string",
                "null"
              ]
            },
            "stale": {
              "type": "boolean"
            },
            "stale_threshold_seconds": {
              "type": "integer"
            }
          },
          "type": "object"
        },
        "pending": {
          "properties": {
            "sessions": {
              "type": "integer"
            },
            "watch_active": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "type": "object"
        },
        "recommended_action": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "type": "object"
    },
    "stats": {
      "properties": {
        "by_agent": {
          "items": {
            "properties": {
              "agent": {
                "type": "string"
              },
              "count": {
                "type": "integer"
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "conversations": {
          "type": "integer"
        },
        "date_range": {
          "properties": {
            "newest": {
              "type": [
                "string",
                "null"
              ]
            },
            "oldest": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "type": "object"
        },
        "db_path": {
          "type": "string"
        },
        "messages": {
          "type": "integer"
        },
        "top_workspaces": {
          "items": {
            "properties": {
              "count": {
                "type": "integer"
              },
              "workspace": {
                "type": "string"
              }
            },
            "type": "object"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "status": {
      "properties": {
        "_meta": {
          "properties": {
            "data_dir": {
              "type": "string"
            },
            "db_path": {
              "type": "string"
            },
            "timestamp": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "database": {
          "properties": {
            "conversations": {
              "type": "integer"
            },
            "exists": {
              "type": "boolean"
            },
            "messages": {
              "type": "integer"
            },
            "path": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "healthy": {
          "type": "boolean"
        },
        "index": {
          "properties": {
            "age_seconds": {
              "type": [
                "integer",
                "null"
              ]
            },
            "exists": {
              "type": "boolean"
            },
            "fresh": {
              "type": "boolean"
            },
            "last_indexed_at": {
              "type": [
                "string",
                "null"
              ]
            },
            "stale": {
              "type": "boolean"
            },
            "stale_threshold_seconds": {
              "type": "integer"
            }
          },
          "type": "object"
        },
        "pending": {
          "properties": {
            "sessions": {
              "type": "integer"
            },
            "watch_active": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "type": "object"
        },
        "recommended_action": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "type": "object"
    },
    "view": {
      "properties": {
        "end_line": {
          "type": "integer"
        },
        "highlight_line": {
          "type": [
            "integer",
            "null"
          ]
        },
        "lines": {
          "items": {
            "properties": {
              "content": {
                "type": "string"
              },
              "highlighted": {
                "type": "boolean"
              },
              "number": {
                "type": "integer"
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "path": {
          "type": "string"
        },
        "start_line": {
          "type": "integer"
        }
      },
      "type": "object"
    }
  }
}
